(function(e){function t(t){for(var n,s,o=t[0],c=t[1],l=t[2],d=0,p=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&p.push(r[s][0]),r[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(p.length)p.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,o=1;o<a.length;o++){var c=a[o];0!==r[c]&&(n=!1)}n&&(i.splice(t--,1),e=s(s.s=a[0]))}return e}var n={},r={app:0},i=[];function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=n,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("85ec")},"11b2":function(e,t,a){"use strict";a("4a57")},"1a12":function(e,t,a){},2528:function(e,t,a){"use strict";a("7858")},3428:function(e,t,a){"use strict";a("f5e1")},"3b0b":function(e,t,a){"use strict";a("9403")},"4a57":function(e,t,a){},"4cca":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("navbar"),a("div",[a("router-view")],1)],1)},i=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",{staticClass:"navbar"},[a("div",{staticClass:"logo"},[e._v("Actividad II")]),a("ul",{staticClass:"nav-links"},[a("input",{attrs:{type:"checkbox",id:"checkbox_toggle"}}),a("label",{staticClass:"hamburger",attrs:{for:"checkbox_toggle"}},[e._v("☰")]),a("div",{staticClass:"menu"},[a("li",[a("router-link",{attrs:{to:"/"}},[e._v("Pacientes "),a("i",{staticClass:"fa-solid fa-hospital-user"})])],1),a("li",[a("router-link",{attrs:{to:"/paciente-crear"}},[e._v("Crear Paciente "),a("i",{staticClass:"fa-solid fa-hospital-user"})])],1),a("li",[a("router-link",{attrs:{to:"/consultas"}},[e._v("Consultas")]),a("i",{staticClass:"fa-solid fa-laptop-medical"})],1),a("li",[a("router-link",{attrs:{to:"/consulta-crear"}},[e._v("Crear Consulta")]),a("i",{staticClass:"fa-solid fa-book-medical"})],1)])])])},o=[],c={name:"Navbar"},l=c,u=(a("5dfc"),a("2877")),d=Object(u["a"])(l,s,o,!1,null,null,null),p=d.exports,f={name:"App",components:{Navbar:p}},v=f,m=(a("034f"),Object(u["a"])(v,r,i,!1,null,null,null)),b=m.exports,g=a("8c4f"),h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",[a("div",{staticClass:"contenedor-buscador"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.buscadorNombre,expression:"buscadorNombre"}],staticClass:"buscador",attrs:{placeholder:"Buscador de pacientes por nombre...",type:"text"},domProps:{value:e.buscadorNombre},on:{input:[function(t){t.target.composing||(e.buscadorNombre=t.target.value)},e.buscadorPacientes]}})]),e._m(0),e.pacientes&&e.pacientes.length?[a("div",{staticClass:"contenedor-tabla"},[a("table",{staticClass:"tabla"},[e._m(1),a("tbody",e._l(e.pacientes,(function(t){return a("tr",{key:t._id},[a("td",[e._v(e._s(t.nombre))]),a("td",[e._v(e._s(t.apellido))]),a("td",[e._v(e._s(t.identificacion))]),a("td",[e._v(e._s(t.edad)+" años")]),a("td",[e._v(e._s(t.sexo))]),a("td",[e._v(e._s(t.tipoSangre))]),a("td",[e._v(e._s(t.alergias))]),a("td",[a("button",{staticClass:"btn btn-primary",attrs:{title:"Editar paciente"},on:{click:function(a){return e.$router.push({name:"PacienteEditar",params:{id:t._id}})}}},[a("i",{staticClass:"fa-solid fa-hospital-user"})]),a("button",{staticClass:"btn btn-danger margin-left",attrs:{title:"Eliminar paciente"},on:{click:function(a){return e.eliminarPaciente(t._id)}}},[a("i",{staticClass:"fa-solid fa-hospital-user"})])])])})),0)])])]:[e._m(2)]],2)])},_=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",{staticClass:"titulo"},[e._v("Listado de Pacientes")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("Nombre")]),a("th",[e._v("Apellido")]),a("th",[e._v("Identificación")]),a("th",[e._v("Edad")]),a("th",[e._v("Sexo")]),a("th",[e._v("Tipo de sangre")]),a("th",[e._v("Alergias")]),a("th",[e._v("Acciones")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",{staticClass:"text-center text-muted margin-top"},[e._v(' No existen pacientes registrados actualmente. Navega a "Crear Paciente" '),a("i",{staticClass:"fa-solid fa-folder-open"})])}],C=a("a34a"),x=a.n(C),P=a("3d20"),y=a.n(P),w="http://localhost:3000/api/",k=["A +","A -","B +","B -","O +","O -","AB +","AB -"],A=["Femenino","Masculino","Otro"],$={"Niño":"Consulta para niños",Adulto:"Consulta para personas adultas","Tercera Edad":"Consulta para adultos mayores"},E={"Consulta para niños":"Niño","Consulta para personas adultas":"Adulto","Consulta para adultos mayores":"Tercera Edad"},N=function(){return fetch(w+"pacientes")},T=function(e){return fetch(w+"eliminar-paciente/"+e,{method:"DELETE",headers:{"Content-Type":"application/json"}})},S=function(e){return fetch(w+"crear-paciente",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})},O=function(e){return fetch(w+"paciente/"+e)},j=function(e,t){return fetch(w+"actualizar-paciente/"+e,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})},I=function(e){return fetch(w+"buscador-pacientes/"+e)};function q(e,t,a,n,r,i,s){try{var o=e[i](s),c=o.value}catch(l){return void a(l)}o.done?t(c):Promise.resolve(c).then(n,r)}function B(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var i=e.apply(t,a);function s(e){q(i,n,r,s,o,"next",e)}function o(e){q(i,n,r,s,o,"throw",e)}s(void 0)}))}}var U={name:"Pacientes",data:function(){return{pacientes:[],buscadorNombre:""}},mounted:function(){this.getPacientes()},methods:{eliminarPaciente:function(e){var t=this;y.a.fire({title:"¿Estás seguro?",text:"¡No podrás revertir esto! Si eliminas el paciente se eliminaran todas sus consultas relacionadas",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"¡Sí, eliminar!",cancelButtonText:"Cancelar"}).then((function(a){a.value&&T(e).then((function(e){return e.json()})).then((function(e){e.message.includes("correctamente")?(y.a.fire("¡Eliminado!",e.message,"success"),t.getPacientes()):y.a.fire("¡Error!",e.message,"error")}))}))},editarPaciente:function(e){router.push({name:"EditarPaciente",params:{id:e}})},getPacientes:function(){var e=this;return B(x.a.mark((function t(){var a,n;return x.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N();case 3:return a=t.sent,t.next=6,a.json();case 6:n=t.sent,e.pacientes=n,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),y.a.fire({title:"Error",text:"No se pudo obtener los pacientes",icon:"error"});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()},buscadorPacientes:function(){var e=this;return B(x.a.mark((function t(){var a,n;return x.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.buscadorNombre.length>2)){t.next=16;break}return t.prev=1,t.next=4,I(e.buscadorNombre);case 4:return a=t.sent,t.next=7,a.json();case 7:n=t.sent,e.pacientes=n,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](1),y.a.fire({title:"Error",text:"No se pudo obtener los pacientes",icon:"error"});case 14:t.next=17;break;case 16:e.getPacientes();case 17:case"end":return t.stop()}}),t,null,[[1,11]])})))()}}},z=U,D=(a("2528"),a("3428"),Object(u["a"])(z,h,_,!1,null,"5d897cf4",null)),F=D.exports,R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"contenedor-formulario"},[a("button",{staticClass:"btn btn-secondary btn-regresar",attrs:{title:"Regresar en el historial de navegación"},on:{click:function(t){return e.$router.go(-1)}}},[a("i",{staticClass:"fa-solid fa-arrow-left"}),e._v(" Regresar ")]),a("div",{staticClass:"contenedor"},[a("form",{staticClass:"formulario",on:{submit:function(t){return t.preventDefault(),e.enviarPacienteAgregar.apply(null,arguments)}}},[e._m(0),a("div",{staticClass:"contenedor-input background width-50"},[a("span",{staticClass:"label"},[e._v("Nombre")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.paciente.nombre,expression:"paciente.nombre",modifiers:{trim:!0}}],staticClass:"input-style",attrs:{type:"text",placeholder:"Ingresar nombre",required:""},domProps:{value:e.paciente.nombre},on:{input:function(t){t.target.composing||e.$set(e.paciente,"nombre",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),a("div",{staticClass:"contenedor-input background width-50"},[a("span",{staticClass:"label"},[e._v("Apellido")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.paciente.apellido,expression:"paciente.apellido",modifiers:{trim:!0}}],staticClass:"input-style",attrs:{type:"text",placeholder:"Ingresas apellido del paciente",required:""},domProps:{value:e.paciente.apellido},on:{input:function(t){t.target.composing||e.$set(e.paciente,"apellido",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),a("div",{staticClass:"contenedor-input background width-50"},[a("span",{staticClass:"label"},[e._v("Identificación")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.paciente.identificacion,expression:"paciente.identificacion",modifiers:{trim:!0}}],staticClass:"input-style",attrs:{type:"number",placeholder:"Identificacion del paciente, esta es única",required:""},domProps:{value:e.paciente.identificacion},on:{input:function(t){t.target.composing||e.$set(e.paciente,"identificacion",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),a("div",{staticClass:"contenedor-input background width-50"},[a("span",{staticClass:"label"},[e._v("Edad")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.paciente.edad,expression:"paciente.edad",modifiers:{number:!0}}],staticClass:"input-style",attrs:{max:"100",min:"1",type:"number",placeholder:"Ingrese la edad del paciente",required:""},domProps:{value:e.paciente.edad},on:{input:function(t){t.target.composing||e.$set(e.paciente,"edad",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),a("div",{staticClass:"contenedor-input width-50 background"},[a("span",{staticClass:"label"},[e._v("Sexo")]),a("div",[a("select",{directives:[{name:"model",rawName:"v-model",value:e.paciente.sexo,expression:"paciente.sexo"}],attrs:{required:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.paciente,"sexo",t.target.multiple?a:a[0])}}},[a("option",{attrs:{selected:"",value:"",disabled:""}},[e._v("Seleccionar genero")]),e._l(e.generoPaciente,(function(t,n){return a("option",{key:n+t,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])}))],2)])]),a("div",{staticClass:"contenedor-input width-50 background"},[a("span",{staticClass:"label"},[e._v("Tipo de sangre")]),a("div",[a("select",{directives:[{name:"model",rawName:"v-model",value:e.paciente.tipoSangre,expression:"paciente.tipoSangre"}],attrs:{required:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.paciente,"tipoSangre",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",selected:"",disabled:""}},[e._v(" Tipo de sangre del paciente ")]),e._l(e.tiposDeSangre,(function(t,n){return a("option",{key:n+t,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])}))],2)])]),a("div",{staticClass:"contenedor-input background"},[a("span",{staticClass:"label"},[e._v("Alergias")]),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.tieneAlergias,expression:"tieneAlergias"}],attrs:{type:"radio",id:"si",name:"alergias"},domProps:{value:!0,checked:e._q(e.tieneAlergias,!0)},on:{change:function(t){e.tieneAlergias=!0}}}),a("label",{attrs:{for:"si"}},[e._v("Si")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.tieneAlergias,expression:"tieneAlergias"}],attrs:{type:"radio",id:"no",name:"alergias"},domProps:{value:!1,checked:e._q(e.tieneAlergias,!1)},on:{change:function(t){e.tieneAlergias=!1}}}),a("label",{attrs:{for:"no"}},[e._v("No")])])]),e.tieneAlergias?a("div",{staticClass:"contenedor-input background"},[a("span",{staticClass:"label"},[e._v("Alergias")]),a("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:e.paciente.alergias,expression:"paciente.alergias",modifiers:{trim:!0}}],staticClass:"input-style",attrs:{required:"",placeholder:"Indica si el paciente presenta alguna alergia..."},domProps:{value:e.paciente.alergias},on:{input:function(t){t.target.composing||e.$set(e.paciente,"alergias",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]):e._e(),e._m(1)])])])},J=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"formulario-titulo"},[e._v(" Agregar paciente "),a("i",{staticClass:"fa-solid fa-user-plus"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"contenedor-formulario-form-btn"},[a("button",{staticClass:"formulario-btn",attrs:{type:"submit"}},[a("span",[e._v(" Agregar paciente "),a("i",{staticClass:"fa-solid fa-plus"})])])])}],L={name:"PacienteAgregar",data:function(){return{paciente:{nombre:"",apellido:"",edad:"",identificacion:"",sexo:"",tipoSangre:"",alergias:""},tieneAlergias:!1,tiposDeSangre:k,generoPaciente:A}},methods:{enviarPacienteAgregar:function(){var e=this;this.tieneAlergias?this.paciente.alergias=this.paciente.alergias:this.paciente.alergias="Ninguna",""!=this.paciente.nombre&&""!=this.paciente.apellido&&""!=this.paciente.sexo&&""!=this.paciente.tipoSangre&&""!=this.paciente.alergias&&this.paciente.edad&&""!=this.paciente.identificacion?S(this.paciente).then((function(e){return e.json()})).then((function(t){t.message.includes("correctamente")&&(y.a.fire({title:"Éxito",text:t.message,icon:"success",confirmButtonText:"Aceptar"}),setTimeout((function(){e.$router.push("/")}),2e3)),t&&t.error&&11e3==t.error.code&&y.a.fire({title:"Error",text:"La identificación del paciente ya existe",icon:"error",confirmButtonText:"Aceptar"})})).catch((function(){y.a.fire({title:"Error",text:"Ha ocurrido un error creando el paciente. Por favor, intente nuevamente",icon:"error",confirmButtonText:"Aceptar"})})):y.a.fire({title:"Error",text:"Por favor, llene todos los campos del formulario",icon:"error",confirmButtonText:"Aceptar"})}}},M=L,H=(a("cf89"),Object(u["a"])(M,R,J,!1,null,null,null)),V=H.exports,W=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"contenedor-formulario"},[a("button",{staticClass:"btn btn-secondary btn-regresar",attrs:{title:"Regresar en el historial de navegación"},on:{click:function(t){return e.$router.go(-1)}}},[a("i",{staticClass:"fa-solid fa-arrow-left"}),e._v(" Regresar ")]),a("div",{staticClass:"contenedor"},[a("form",{staticClass:"formulario",on:{submit:function(t){return t.preventDefault(),e.actualizarPaciente.apply(null,arguments)}}},[e._m(0),a("div",{staticClass:"contenedor-input background width-50"},[a("span",{staticClass:"label"},[e._v("Nombre")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.paciente.nombre,expression:"paciente.nombre",modifiers:{trim:!0}}],staticClass:"input-style",attrs:{type:"text",placeholder:"Ingresar nombre",required:""},domProps:{value:e.paciente.nombre},on:{input:function(t){t.target.composing||e.$set(e.paciente,"nombre",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),a("div",{staticClass:"contenedor-input background width-50"},[a("span",{staticClass:"label"},[e._v("Apellido")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.paciente.apellido,expression:"paciente.apellido",modifiers:{trim:!0}}],staticClass:"input-style",attrs:{type:"text",placeholder:"Ingresas apellido del paciente",required:""},domProps:{value:e.paciente.apellido},on:{input:function(t){t.target.composing||e.$set(e.paciente,"apellido",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),a("div",{staticClass:"contenedor-input background width-50"},[a("span",{staticClass:"label"},[e._v("Identificación")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.paciente.identificacion,expression:"paciente.identificacion",modifiers:{trim:!0}}],staticClass:"input-style",attrs:{type:"number",placeholder:"Identificacion del paciente, esta es única",required:""},domProps:{value:e.paciente.identificacion},on:{input:function(t){t.target.composing||e.$set(e.paciente,"identificacion",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),a("div",{staticClass:"contenedor-input background width-50"},[a("span",{staticClass:"label"},[e._v("Edad")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.paciente.edad,expression:"paciente.edad",modifiers:{number:!0}}],staticClass:"input-style",attrs:{max:"100",min:"1",type:"number",placeholder:"Ingrese la edad del paciente",required:""},domProps:{value:e.paciente.edad},on:{input:function(t){t.target.composing||e.$set(e.paciente,"edad",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),a("div",{staticClass:"contenedor-input width-50 background"},[a("span",{staticClass:"label"},[e._v("Sexo")]),a("div",[a("select",{directives:[{name:"model",rawName:"v-model",value:e.paciente.sexo,expression:"paciente.sexo"}],attrs:{required:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.paciente,"sexo",t.target.multiple?a:a[0])}}},e._l(e.generoPaciente,(function(t,n){return a("option",{key:n+t,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])})),0)])]),a("div",{staticClass:"contenedor-input width-50 background"},[a("span",{staticClass:"label"},[e._v("Tipo de sangre")]),a("div",[a("select",{directives:[{name:"model",rawName:"v-model",value:e.paciente.tipoSangre,expression:"paciente.tipoSangre"}],attrs:{required:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.paciente,"tipoSangre",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",selected:"",disabled:""}},[e._v(" Tipo de sangre del paciente ")]),e._l(e.tiposDeSangre,(function(t,n){return a("option",{key:n+t,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])}))],2)])]),a("div",{staticClass:"contenedor-input background"},[a("span",{staticClass:"label"},[e._v("Alergias")]),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.tieneAlergias,expression:"tieneAlergias"}],attrs:{type:"radio",id:"si",name:"alergias"},domProps:{value:!0,checked:e._q(e.tieneAlergias,!0)},on:{change:function(t){e.tieneAlergias=!0}}}),a("label",{attrs:{for:"si"}},[e._v("Si")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.tieneAlergias,expression:"tieneAlergias"}],attrs:{type:"radio",id:"no",name:"alergias"},domProps:{value:!1,checked:e._q(e.tieneAlergias,!1)},on:{change:function(t){e.tieneAlergias=!1}}}),a("label",{attrs:{for:"no"}},[e._v("No")])])]),e.tieneAlergias?a("div",{staticClass:"contenedor-input background"},[a("span",{staticClass:"label"},[e._v("Alergias")]),a("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:e.paciente.alergias,expression:"paciente.alergias",modifiers:{trim:!0}}],staticClass:"input-style",attrs:{required:"",placeholder:"Indica si el paciente presenta alguna alergia..."},domProps:{value:e.paciente.alergias},on:{input:function(t){t.target.composing||e.$set(e.paciente,"alergias",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]):e._e(),e._m(1)])])])},Y=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"formulario-titulo"},[e._v(" Actualizar paciente "),a("i",{staticClass:"fa-solid fa-rotate"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"contenedor-formulario-form-btn"},[a("button",{staticClass:"formulario-btn",attrs:{type:"submit"}},[a("span",[e._v(" Actualizar paciente "),a("i",{staticClass:"fa-solid fa-file-medical"})])])])}];function G(e,t,a,n,r,i,s){try{var o=e[i](s),c=o.value}catch(l){return void a(l)}o.done?t(c):Promise.resolve(c).then(n,r)}function K(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var i=e.apply(t,a);function s(e){G(i,n,r,s,o,"next",e)}function o(e){G(i,n,r,s,o,"throw",e)}s(void 0)}))}}var Q={name:"PacienteEditar",data:function(){return{paciente:{nombre:"",apellido:"",edad:"",identificacion:"",sexo:"",tipoSangre:"",alergias:""},tieneAlergias:!1,tiposDeSangre:k,generoPaciente:A}},mounted:function(){this.obtenerPaciente()},methods:{obtenerPaciente:function(){var e=this;return K(x.a.mark((function t(){var a,n;return x.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O(e.$route.params.id);case 3:return a=t.sent,t.next=6,a.json();case 6:n=t.sent,n.alergias&&!n.alergias.includes("Ninguna")?e.tieneAlergias=!0:n.alergias="",e.paciente=n,t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](0),y.a.fire("Error","Ocurrió un error obteniendo el paciente","error"),setTimeout((function(){e.$router.push("/")}),2e3);case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))()},actualizarPaciente:function(){var e=this;this.tieneAlergias?this.paciente.alergias=this.paciente.alergias:this.paciente.alergias="Ninguna",""!=this.paciente.nombre&&""!=this.paciente.apellido&&""!=this.paciente.sexo&&""!=this.paciente.tipoSangre&&""!=this.paciente.alergias&&this.paciente.edad&&""!=this.paciente.identificacion?j(this.$route.params.id,this.paciente).then((function(e){return e.json()})).then((function(t){t.message.includes("correctamente")&&(y.a.fire({title:"Éxito",text:t.message,icon:"success",confirmButtonText:"Aceptar"}),setTimeout((function(){e.$router.push("/")}),1e3)),t&&t.error&&11e3==t.error.code&&y.a.fire({title:"Error",text:"Ya existe un paciente registrado con la identificación ingresada",icon:"error",confirmButtonText:"Aceptar"})})).catch((function(){y.a.fire({title:"Error",text:"Ha ocurrido un error creando el paciente. Por favor, intente nuevamente",icon:"error",confirmButtonText:"Aceptar"})})):y.a.fire({title:"Error",text:"Por favor, llene todos los campos del formulario",icon:"error",confirmButtonText:"Aceptar"})}}},X=Q,Z=Object(u["a"])(X,W,Y,!1,null,null,null),ee=Z.exports,te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",[a("div",[a("div",{staticClass:"container-filtros"},[a("div",{staticClass:"row"},[a("div",{staticClass:"d-flex justify-between"},[a("button",{staticClass:"btn rounded btn-secondary",on:{click:function(t){e.buscarPorTipoConsulta="",e.buscarPorPaciente="",e.buscarPorFecha="",e.obtenerConsultas()}}},[a("i",{staticClass:"fa-solid fa-list"}),e._v(" Todos ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.buscarPorTipoConsulta,expression:"buscarPorTipoConsulta"}],staticClass:"width-25",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.buscarPorTipoConsulta=t.target.multiple?a:a[0]},function(t){return e.actualizarConsultas("tipo")}]}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v(" Seleccionar tipo de consulta ")]),e._l(e.tiposConsulta,(function(t){return a("option",{key:t,domProps:{value:e.tiposConsultaSelect[t]}},[e._v(" "+e._s(t)+" ")])}))],2),a("select",{directives:[{name:"model",rawName:"v-model",value:e.buscarPorPaciente,expression:"buscarPorPaciente"}],staticClass:"width-25",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.buscarPorPaciente=t.target.multiple?a:a[0]},function(t){return e.actualizarConsultas("paciente")}]}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v(" Seleccionar tipo de pacientes ")]),e._l(e.pacientes,(function(t){return a("option",{key:t._id,domProps:{value:t._id}},[e._v(" "+e._s(t.nombre)+" "+e._s(t.apellido)+". V-"+e._s(t.identificacion)+" ")])}))],2),a("input",{directives:[{name:"model",rawName:"v-model",value:e.buscarPorFecha,expression:"buscarPorFecha"}],attrs:{type:"date"},domProps:{value:e.buscarPorFecha},on:{change:e.buscarConsultasFecha,input:function(t){t.target.composing||(e.buscarPorFecha=t.target.value)}}})])])]),a("h1",{staticClass:"titulo"},[e._v("Consultas disponibles")])]),e.consultas&&e.consultas.length?[a("div",{staticClass:"contenedor-tabla"},[a("table",{staticClass:"tabla"},[e._m(0),a("tbody",e._l(e.consultas,(function(t){return a("tr",{key:t._id},[a("td",[e._v(" "+e._s(e.tiposConsulta[t.tipoConsulta]||"Consulta no especifícada")+" ")]),a("td",[e._v(e._s(t.enfermedad))]),a("td",[e._v(" "+e._s(t.pacienteId.nombre)+" "+e._s(t.pacienteId.apellido)+" ")]),a("td",[e._v(" "+e._s(t.pacienteId.sexo)+" / "+e._s(t.pacienteId.edad)+" años / CI: "+e._s(t.pacienteId.identificacion)+" ")]),a("td",[e._v(" "+e._s(t.pacienteId.alergias)+" / "+e._s(t.pacienteId.tipoSangre)+" ")]),a("td",[e._v(" "+e._s(t.observacion.length>20?t.observacion.substring(0,20)+"...":t.observacion)+" ")]),a("td",[e._v(" "+e._s(new Date(t.fecha).toISOString().substring(0,10))+" ")]),a("td",[a("button",{staticClass:"btn btn-primary",attrs:{title:"Editar cita"},on:{click:function(a){return e.$router.push({name:"ConsultaEditar",params:{id:t._id}})}}},[a("i",{staticClass:"fa-solid fa-file-medical"})]),a("button",{staticClass:"btn btn-danger margin-left",attrs:{title:"Eliminar cita"},on:{click:function(a){return e.eliminarConsulta(t._id)}}},[a("i",{staticClass:"fa-solid fa-file-medical"})])])])})),0)])])]:[e._m(1)]],2)])},ae=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("Tipo consulta")]),a("th",[e._v("Padecimiento")]),a("th",[e._v("Paciente")]),a("th",[e._v("Sexo / Edad / Identificacion")]),a("th",[e._v("Alergías / T. Sangre")]),a("th",[e._v("Observación")]),a("th",[e._v("Fecha Consulta")]),a("th",[e._v("Acciones")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",{staticClass:"text-center text-muted margin-top"},[e._v(' No existen consultas registrados actualmente. Navega a "Crear Consulta" '),a("i",{staticClass:"fa-solid fa-book-medical"})])}],ne=function(){return fetch(w+"consultas")},re=function(e){return fetch(w+"eliminar-consulta/"+e,{method:"DELETE",headers:{"Content-Type":"application/json"}})},ie=function(e){return fetch(w+"crear-consulta",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})},se=function(e){return fetch(w+"consulta/"+e)},oe=function(e,t){return fetch(w+"actualizar-consulta/"+e,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})},ce=function(e){return fetch(w+"/consulta-tipo/"+e)},le=function(e){return fetch(w+"consulta-paciente/"+e)},ue=function(e){return fetch(w+"consulta-fecha/"+e)};function de(e,t,a,n,r,i,s){try{var o=e[i](s),c=o.value}catch(l){return void a(l)}o.done?t(c):Promise.resolve(c).then(n,r)}function pe(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var i=e.apply(t,a);function s(e){de(i,n,r,s,o,"next",e)}function o(e){de(i,n,r,s,o,"throw",e)}s(void 0)}))}}var fe={name:"Consultas",data:function(){return{consultas:[],pacientes:[],tiposConsulta:$,tiposConsultaSelect:E,buscarPorTipoConsulta:"",buscarPorPaciente:"",buscarPorFecha:""}},mounted:function(){this.obtenerConsultas(),this.obtenerPacientes()},methods:{actualizarConsultas:function(e){var t=this;return pe(x.a.mark((function a(){var n,r,i,s,o,c;return x.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,!t.buscarPorTipoConsulta.length||"tipo"!==e){a.next=10;break}return a.next=4,ce(t.buscarPorTipoConsulta);case 4:return n=a.sent,a.next=7,n.json();case 7:return r=a.sent,t.consultas=r,a.abrupt("return");case 10:if(!t.buscarPorPaciente.length||"paciente"!==e){a.next=19;break}return a.next=13,le(t.buscarPorPaciente);case 13:return i=a.sent,a.next=16,i.json();case 16:return s=a.sent,t.consultas=s,a.abrupt("return");case 19:if(!t.buscarPorTipoConsulta.length||!t.buscarPorPaciente.length){a.next=27;break}return a.next=22,ce(t.buscarPorTipoConsulta);case 22:return o=a.sent,a.next=25,o.json();case 25:c=a.sent,t.consultas=c.filter((function(e){return e.pacienteId._id===t.buscarPorPaciente}));case 27:a.next=32;break;case 29:a.prev=29,a.t0=a["catch"](0),y.a.fire("Error","Ocurrió un error obteniendo las consultas por tipo");case 32:case"end":return a.stop()}}),a,null,[[0,29]])})))()},buscarConsultasFecha:function(){var e=this;return pe(x.a.mark((function t(){var a,n;return x.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.buscarPorFecha.length){t.next=2;break}return t.abrupt("return");case 2:return e.buscarPorTipoConsulta="",e.buscarPorPaciente="",t.prev=4,t.next=7,ue(e.buscarPorFecha);case 7:return a=t.sent,t.next=10,a.json();case 10:n=t.sent,e.consultas=n,t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](4),y.a.fire("Error","No se pudo obtener los clientes consultados por fecha","error");case 17:case"end":return t.stop()}}),t,null,[[4,14]])})))()},obtenerConsultas:function(){var e=this;return pe(x.a.mark((function t(){var a,n;return x.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ne();case 3:return a=t.sent,t.next=6,a.json();case 6:n=t.sent,e.consultas=n,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),y.a.fire("Error","Ocurrió un error obteniendo las consultas","error");case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()},obtenerPacientes:function(){var e=this;return pe(x.a.mark((function t(){var a,n;return x.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N();case 3:return a=t.sent,t.next=6,a.json();case 6:n=t.sent,e.pacientes=n,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),y.a.fire("Error","Ocurrió un error obteniendo los pacientes","error");case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()},eliminarConsulta:function(e){var t,a,n,r=this,i=null===(t=this.consultas.filter((function(t){return t._id===e})))||void 0===t||null===(a=t.at(0))||void 0===a||null===(n=a.pacienteId)||void 0===n?void 0:n.nombre;y.a.fire({title:"¿Desea eliminar la cita registrada?",text:"Se eliminara la cita del paciente "+i,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Eliminar",cancelButtonText:"Cancelar"}).then(function(){var t=pe(x.a.mark((function t(a){var n,i;return x.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a.value){t.next=14;break}return t.prev=1,t.next=4,re(e);case 4:return n=t.sent,t.next=7,n.json();case 7:i=t.sent,i.message.includes("correctamente")?(y.a.fire("¡Eliminado!",i.message,"success"),r.obtenerConsultas()):y.a.fire("Algo salió mal!",i.message,"warning"),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](1),y.a.fire("Error!",respuesta.message,"error");case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}())}}},ve=fe,me=(a("3b0b"),Object(u["a"])(ve,te,ae,!1,null,"b9c8b4b0",null)),be=me.exports,ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"contenedor-formulario"},[a("button",{staticClass:"btn btn-secondary btn-regresar",attrs:{title:"Regresar en el historial de navegación"},on:{click:function(t){return e.$router.go(-1)}}},[a("i",{staticClass:"fa-solid fa-arrow-left"}),e._v(" Regresar ")]),a("div",{staticClass:"contenedor"},[a("form",{staticClass:"formulario",on:{submit:function(t){return t.preventDefault(),e.agregarConsulta.apply(null,arguments)}}},[e._m(0),a("div",{staticClass:"contenedor-input background width-50"},[a("span",{staticClass:"label"},[e._v("Seleccione el Tipo de consulta")]),a("select",{directives:[{name:"model",rawName:"v-model.trim",value:e.consulta.tipoConsulta,expression:"consulta.tipoConsulta",modifiers:{trim:!0}}],attrs:{required:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.consulta,"tipoConsulta",t.target.multiple?a:a[0])}}},[a("option",{attrs:{selected:"",value:"",disabled:""}},[e._v(" Tipo de consulta a registrar ")]),e._l(e.tiposConsulta,(function(t){return a("option",{key:t,domProps:{value:e.tiposConsultaSelect[t]}},[e._v(" "+e._s(t)+" ")])}))],2)]),a("div",{staticClass:"contenedor-input background width-50"},[a("span",{staticClass:"label"},[e._v("Enfermedad del paciente")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.consulta.enfermedad,expression:"consulta.enfermedad",modifiers:{trim:!0}}],staticClass:"input-style",attrs:{type:"text",placeholder:"Sintomas que presenta"},domProps:{value:e.consulta.enfermedad},on:{input:function(t){t.target.composing||e.$set(e.consulta,"enfermedad",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),a("div",{staticClass:"contenedor-input background"},[a("span",{staticClass:"label"},[e._v("Seleccione el paciente")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.consulta.pacienteId,expression:"consulta.pacienteId"}],attrs:{required:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.consulta,"pacienteId",t.target.multiple?a:a[0])}}},[a("option",{attrs:{selected:"",value:"",disabled:""}},[e._v(" Paciente que presenta los sintomas ")]),e._l(e.pacientes,(function(t){return a("option",{key:t._id,domProps:{value:t._id}},[e._v(" "+e._s(t.nombre)+" "+e._s(t.apellido)+". V-"+e._s(t.identificacion)+" ")])}))],2)]),a("div",{staticClass:"contenedor-input background"},[a("span",{staticClass:"label"},[e._v("Observación")]),a("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:e.consulta.observacion,expression:"consulta.observacion",modifiers:{trim:!0}}],staticClass:"input-style",attrs:{required:"",placeholder:"Observaciones de la consulta..."},domProps:{value:e.consulta.observacion},on:{input:function(t){t.target.composing||e.$set(e.consulta,"observacion",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._m(1)])])])},he=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"formulario-titulo"},[e._v(" Crear consulta "),a("i",{staticClass:"fa-solid fa-book-medical"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"contenedor-formulario-form-btn"},[a("button",{staticClass:"formulario-btn",attrs:{type:"submit"}},[a("span",[e._v(" Agregar consulta "),a("i",{staticClass:"fa-solid fa-laptop-medical"})])])])}];function _e(e,t,a,n,r,i,s){try{var o=e[i](s),c=o.value}catch(l){return void a(l)}o.done?t(c):Promise.resolve(c).then(n,r)}function Ce(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var i=e.apply(t,a);function s(e){_e(i,n,r,s,o,"next",e)}function o(e){_e(i,n,r,s,o,"throw",e)}s(void 0)}))}}var xe={name:"ConsultaCrear",data:function(){return{pacientes:[],tiposConsulta:$,tiposConsultaSelect:E,consulta:{tipoConsulta:"",enfermedad:"",pacienteId:"",observacion:""}}},mounted:function(){this.obtenerPacientesSelect()},methods:{obtenerPacientesSelect:function(){var e=this;return Ce(x.a.mark((function t(){var a,n;return x.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N();case 3:return a=t.sent,t.next=6,a.json();case 6:if(n=t.sent,n.length){t.next=9;break}return t.abrupt("return",y.a.fire("Advertencia!","No hay pacientes registrados. Debes registrar uno para crear la cita","warning"));case 9:e.pacientes=n,t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),y.a.fire("Error","Ocurrió un error obteniendo los pacientes","error");case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()},agregarConsulta:function(){var e=this;return Ce(x.a.mark((function t(){var a,n,r;return x.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!Object.values(e.consulta).includes("")){t.next=2;break}return t.abrupt("return",y.a.fire("Campos oblígatorios","Todos los datos son requeridos","warning"));case 2:return t.prev=2,t.next=5,ie(e.consulta);case 5:return a=t.sent,t.next=8,a.json();case 8:if(n=t.sent,r=n.message,!r.endsWith("correctamente")){t.next=14;break}return y.a.fire("Éxito!","Consulta regitrada satisfactoriamente","success"),setTimeout((function(){e.$router.push("/consultas")}),2e3),t.abrupt("return");case 14:y.a.fire("Advertencia!","La consulta no pudo ser registrada. "+r,"warning"),t.next=20;break;case 17:t.prev=17,t.t0=t["catch"](2),y.a.fire("Error!","Ocurrió un error registrando la consulta","error");case 20:case"end":return t.stop()}}),t,null,[[2,17]])})))()}}},Pe=xe,ye=(a("11b2"),Object(u["a"])(Pe,ge,he,!1,null,null,null)),we=ye.exports,ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"contenedor-formulario"},[a("button",{staticClass:"btn btn-secondary btn-regresar",attrs:{title:"Regresar en el historial de navegación"},on:{click:function(t){return e.$router.go(-1)}}},[a("i",{staticClass:"fa-solid fa-arrow-left"}),e._v(" Regresar ")]),a("div",{staticClass:"contenedor"},[a("form",{staticClass:"formulario",on:{submit:function(t){return t.preventDefault(),e.editarConsulta.apply(null,arguments)}}},[e._m(0),a("div",{staticClass:"contenedor-input background width-50"},[a("span",{staticClass:"label"},[e._v("Seleccione el Tipo de consulta")]),a("select",{directives:[{name:"model",rawName:"v-model.trim",value:e.consulta.tipoConsulta,expression:"consulta.tipoConsulta",modifiers:{trim:!0}}],attrs:{required:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.consulta,"tipoConsulta",t.target.multiple?a:a[0])}}},[a("option",{attrs:{selected:"",value:"",disabled:""}},[e._v(" Tipo de consulta a registrar ")]),e._l(e.tiposConsulta,(function(t){return a("option",{key:t,domProps:{value:e.tiposConsultaSelect[t]}},[e._v(" "+e._s(t)+" ")])}))],2)]),a("div",{staticClass:"contenedor-input background width-50"},[a("span",{staticClass:"label"},[e._v("Enfermedad del paciente")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.consulta.enfermedad,expression:"consulta.enfermedad",modifiers:{trim:!0}}],staticClass:"input-style",attrs:{type:"text",placeholder:"Sintomas que presenta"},domProps:{value:e.consulta.enfermedad},on:{input:function(t){t.target.composing||e.$set(e.consulta,"enfermedad",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),a("div",{staticClass:"contenedor-input background"},[a("span",{staticClass:"label"},[e._v("Observación")]),a("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:e.consulta.observacion,expression:"consulta.observacion",modifiers:{trim:!0}}],staticClass:"input-style",attrs:{required:"",placeholder:"Observaciones de la consulta..."},domProps:{value:e.consulta.observacion},on:{input:function(t){t.target.composing||e.$set(e.consulta,"observacion",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._m(1)])])])},Ae=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"formulario-titulo"},[e._v(" Modificar consulta "),a("i",{staticClass:"fa-solid fa-rotate"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"contenedor-formulario-form-btn"},[a("button",{staticClass:"formulario-btn",attrs:{type:"submit"}},[a("span",[e._v(" Actualizar consulta "),a("i",{staticClass:"fa-solid fa-laptop-medical"})])])])}];function $e(e,t,a,n,r,i,s){try{var o=e[i](s),c=o.value}catch(l){return void a(l)}o.done?t(c):Promise.resolve(c).then(n,r)}function Ee(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var i=e.apply(t,a);function s(e){$e(i,n,r,s,o,"next",e)}function o(e){$e(i,n,r,s,o,"throw",e)}s(void 0)}))}}var Ne={name:"ConsultaEditar",data:function(){return{tiposConsulta:$,tiposConsultaSelect:E,consulta:{tipoConsulta:"",enfermedad:"",observacion:""}}},mounted:function(){this.obtenerConsultaId()},methods:{obtenerConsultaId:function(){var e=this;return Ee(x.a.mark((function t(){var a;return x.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,se(e.$route.params.id);case 3:return a=t.sent,t.next=6,a.json();case 6:e.consulta=t.sent,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),y.a.fire("Error","Ocurrió un error obteniendo los datos de la consulta a editar","error");case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},editarConsulta:function(){var e=this;return Ee(x.a.mark((function t(){var a,n,r;return x.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!Object.values(e.consulta).includes("")){t.next=2;break}return t.abrupt("return",y.a.fire("Campos oblígatorios","Todos los datos son requeridos","warning"));case 2:return t.prev=2,t.next=5,oe(e.$route.params.id,e.consulta);case 5:return a=t.sent,t.next=8,a.json();case 8:if(n=t.sent,r=n.message,!r.endsWith("correctamente")){t.next=14;break}return y.a.fire("Éxito!","Consulta actualizada correctmente","success"),setTimeout((function(){e.$router.push("/consultas")}),2e3),t.abrupt("return");case 14:y.a.fire("Advertencia!","La consulta no pudo ser actualizada. "+r,"warning"),t.next=20;break;case 17:t.prev=17,t.t0=t["catch"](2),y.a.fire("Error!","Ocurrió un error actualizando la consulta","error");case 20:case"end":return t.stop()}}),t,null,[[2,17]])})))()}}},Te=Ne,Se=Object(u["a"])(Te,ke,Ae,!1,null,null,null),Oe=Se.exports;n["a"].use(g["a"]);var je=[{path:"/",name:"Pacientes",component:F},{path:"*",redirect:"/"},{path:"/consultas",name:"Consultas",component:be},{path:"/paciente-crear",name:"PacienteAgregar",component:V},{path:"/paciente-editar/:id",name:"PacienteEditar",component:ee},{path:"/consulta-crear",name:"ConsultaCrear",component:we},{path:"/consulta-editar/:id",name:"ConsultaEditar",component:Oe}],Ie=new g["a"]({base:"/",routes:je}),qe=Ie;n["a"].config.productionTip=!1,new n["a"]({router:qe,render:function(e){return e(b)}}).$mount("#app")},"5dfc":function(e,t,a){"use strict";a("1a12")},7858:function(e,t,a){},"85ec":function(e,t,a){},9403:function(e,t,a){},cf89:function(e,t,a){"use strict";a("4cca")},f5e1:function(e,t,a){}});
//# sourceMappingURL=app.d483f896.js.map